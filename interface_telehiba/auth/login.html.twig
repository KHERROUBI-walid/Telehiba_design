{% extends 'base/layout.html.twig' %}

{% set hide_navigation = true %}

{% block title %}Connexion - TeleHiba{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-app-pink via-app-purple to-app-blue relative overflow-hidden">
    <!-- Éléments de fond animés -->
    <div class="absolute top-1/4 -right-20 w-64 h-64 bg-gradient-to-br from-white/10 to-app-pink/20 rounded-full animate-pulse"></div>
    <div class="absolute bottom-1/3 -left-20 w-48 h-48 bg-gradient-to-br from-app-blue/20 to-white/10 rounded-full animate-bounce"></div>

    <!-- En-tête -->
    <div class="relative z-10 pt-12 pb-8">
        <div class="flex items-center justify-between px-6">
            <a href="/" class="text-white hover:scale-110 transition-transform duration-300">
                <i data-lucide="arrow-left" class="w-6 h-6"></i>
            </a>
            <div class="text-center">
                <h1 class="text-2xl font-bold text-white">Connexion</h1>
                <p class="text-white/80 text-sm mt-1">Accédez à votre espace</p>
            </div>
            <div class="w-6"></div>
        </div>
    </div>

    <!-- Formulaire de connexion -->
    <div class="relative z-10 px-6">
        <div class="bg-white/95 backdrop-blur-xl rounded-3xl p-8 mx-auto max-w-md shadow-2xl border border-white/20">
            <!-- Logo -->
            <div class="text-center mb-8">
                <div class="w-20 h-20 bg-gradient-to-br from-app-pink to-app-purple rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg">
                    <i data-lucide="heart" class="w-10 h-10 text-white"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-800">TeleHiba</h2>
                <p class="text-gray-600 text-sm">Marketplace solidaire</p>
            </div>

            <form method="post" action="/login" class="space-y-6">
                <!-- Champ email -->
                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                    <div class="relative">
                        <i data-lucide="mail" class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"></i>
                        <input type="email" id="email" name="email" value="{{ email|default('khe.walid59@gmail.com') }}" 
                               placeholder="votre@email.com" required
                               class="w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-app-purple focus:ring-2 focus:ring-app-purple/20 transition-colors">
                    </div>
                </div>

                <!-- Champ mot de passe -->
                <div>
                    <label for="password" class="block text-sm font-medium text-gray-700 mb-2">Mot de passe</label>
                    <div class="relative">
                        <i data-lucide="lock" class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"></i>
                        <input type="password" id="password" name="password" placeholder="••••••••" required
                               class="w-full pl-12 pr-12 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-app-purple focus:ring-2 focus:ring-app-purple/20 transition-colors">
                        <button type="button" onclick="togglePassword()" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600">
                            <i data-lucide="eye" class="w-5 h-5"></i>
                        </button>
                    </div>
                </div>

                <!-- Bouton de connexion -->
                <button type="submit" class="w-full bg-gradient-to-r from-app-pink to-app-purple text-white font-semibold py-3 rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-300">
                    Se connecter
                </button>
            </form>

            <!-- Séparateur -->
            <div class="my-6 flex items-center">
                <div class="flex-1 border-t border-gray-200"></div>
                <span class="px-4 text-sm text-gray-500">ou</span>
                <div class="flex-1 border-t border-gray-200"></div>
            </div>

            <!-- Lien d'inscription -->
            <div class="text-center">
                <p class="text-gray-600 text-sm">
                    Pas encore de compte ? 
                    <a href="/signup" class="text-app-purple font-semibold hover:text-app-pink transition-colors duration-300">
                        Créer un compte
                    </a>
                </p>
            </div>
        </div>
    </div>

    <!-- Espacement du bas -->
    <div class="h-20"></div>
</div>

<script>
function togglePassword() {
    const passwordInput = document.getElementById('password');
    const eyeIcon = document.querySelector('[data-lucide="eye"]');
    
    if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        eyeIcon.setAttribute('data-lucide', 'eye-off');
    } else {
        passwordInput.type = 'password';
        eyeIcon.setAttribute('data-lucide', 'eye');
    }
    lucide.createIcons();
}
</script>
{% endblock %}
